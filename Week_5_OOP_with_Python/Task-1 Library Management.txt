class Book {
    String id, title, author;
    boolean available = true;

    void borrow() {
        available = false;
    }

    void giveBack() {
        available = true;
    }
}

abstract class User {
    String id, name;
    int borrowedCount = 0;

    abstract int getLimit();

    boolean canBorrow() {
        return borrowedCount < getLimit();
    }
}

class Teacher extends User {
    int getLimit() {
        return 5;
    }
}

class Student extends User {
    int getLimit() {
        return 3;
    }
}

import java.util.*;

class Library {
    List<Book> books = new ArrayList<>();
    List<User> users = new ArrayList<>();

    void addBook(Book b) {
        books.add(b);
    }

    void registerUser(User u) {
        users.add(u);
    }

    void borrowBook(User u, Book b) {
        if (b.available && u.canBorrow()) {
            b.borrow();
            u.borrowedCount++;
        }
    }

    void returnBook(User u, Book b) {
        b.giveBack();
        u.borrowedCount--;
    }

    void showBooks() {
        for (Book b : books)
            System.out.println(b.title + " - " + (b.available ? "Available" : "Borrowed"));
    }

    void showUsers() {
        for (User u : users)
            System.out.println(u.name + " - Borrowed: " + u.borrowedCount);
    }
}



