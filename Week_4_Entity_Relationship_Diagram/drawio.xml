<mxfile host="app.diagrams.net">
  <diagram name="Inventory Internal Transfer">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Participants -->
        <mxCell id="wm" value="Warehouse Manager" style="shape=umlActor;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="40" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="wc" value="Web Client" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="20" width="120" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="tc" value="Transfer Controller" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="20" width="150" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="stm" value="Stock Transfer Model" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="20" width="170" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="lm" value="Location Model" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="20" width="140" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="sq" value="Stock Quant Model" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="20" width="160" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="sv" value="System Validator" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="20" width="160" height="40" as="geometry"/>
        </mxCell>

        <!-- Messages -->
        <mxCell id="m1" value="Select product, locations, qty&#10;Click Validate" style="endArrow=block;" edge="1" parent="1" source="wm" target="wc">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="200" y="120" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m2" value="Send transfer data" style="endArrow=block;" edge="1" parent="1" source="wc" target="tc">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="160" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m3" value="Create transfer record" style="endArrow=block;" edge="1" parent="1" source="tc" target="stm">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="200" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m4" value="Validate source & destination locations" style="endArrow=block;" edge="1" parent="1" source="stm" target="lm">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="740" y="240" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m5" value="Check available stock" style="endArrow=block;" edge="1" parent="1" source="stm" target="sq">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="920" y="280" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m6" value="Validate stock â‰¥ requested qty" style="endArrow=block;" edge="1" parent="1" source="stm" target="sv">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1100" y="320" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m7" value="Deduct qty from source" style="endArrow=block;" edge="1" parent="1" source="stm" target="sq">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="920" y="360" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m8" value="Add qty to destination" style="endArrow=block;" edge="1" parent="1" source="stm" target="sq">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="920" y="400" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m9" value="Update transfer state = Done" style="endArrow=block;" edge="1" parent="1" source="stm" target="stm">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="560" y="440" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <mxCell id="m10" value="Show success message" style="endArrow=block;" edge="1" parent="1" source="wc" target="wm">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="480" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
